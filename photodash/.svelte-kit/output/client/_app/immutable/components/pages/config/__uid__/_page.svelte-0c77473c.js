import{S as Fe,i as We,s as Re,w as Se,x as Te,y as Ie,f as x,t as ee,z as Ce,P as Ue,C as qe,I as ze,J as He,K as je,e as J,b as C,g as Ge,d as Je,h,k as d,q as k,a as O,l as m,m as y,r as E,c as M,n as p,G as u,u as ae,a6 as Ne,Y as Z}from"../../../../chunks/index-fb8a4cb6.js";import{t as Ke}from"../../../../chunks/googlePhotosStore-5ebdd7fd.js";import{A as Ye}from"../../../../chunks/AppShell-cfa6c1e0.js";import{B as De}from"../../../../chunks/Button-b0c24815.js";function Le(a,e,l){const t=a.slice();return t[5]=e[l],t}function Be(a,e,l){const t=a.slice();return t[5]=e[l],t}function Qe(a){var ye,we;let e,l,t,o,n,i,c,f,w,N,A,L,ie,te,re,se,q,ue,ce,S,B,fe,le,_e,he,z,pe,de,T,K,me,ge,F,oe,be,W,ve,Y=(((ye=a[0].configuration)==null?void 0:ye.name.length)>0?(we=a[0].configuration)==null?void 0:we.name:"configurationName")+"",ne,ke,Ee,$e,R,P,H=a[0].entities,g=[];for(let r=0;r<H.length;r+=1)g[r]=Oe(Be(a,H,r));let j=a[0].entities,b=[];for(let r=0;r<j.length;r+=1)b[r]=Ae(Le(a,j,r));return R=new De({props:{$$slots:{default:[Ze]},$$scope:{ctx:a}}}),{c(){e=d("form"),l=d("label"),t=k("Configuration Name"),o=O(),n=d("input"),c=O(),f=d("label"),w=k("Weather Entity"),N=O(),A=d("select"),L=d("option"),ie=k("None");for(let r=0;r<g.length;r+=1)g[r].c();re=d("br"),se=O(),q=d("label"),ue=k("Background Music Entity"),ce=O(),S=d("select"),B=d("option"),fe=k("None");for(let r=0;r<b.length;r+=1)b[r].c();_e=d("br"),he=O(),z=d("label"),pe=k("Background Music File"),de=O(),T=d("input"),me=d("br"),ge=O(),F=d("input"),be=O(),W=d("label"),ve=k("(Home Assistant Add-On Only) Use local photos. Photodash will look in /share/photodash/"),ne=k(Y),ke=k(" and display the files in that folder as your background slideshow."),Ee=d("br"),$e=O(),Se(R.$$.fragment),this.h()},l(r){e=m(r,"FORM",{method:!0});var s=y(e);l=m(s,"LABEL",{for:!0});var v=y(l);t=E(v,"Configuration Name"),v.forEach(h),o=M(s),n=m(s,"INPUT",{type:!0,id:!0,name:!0}),c=M(s),f=m(s,"LABEL",{for:!0});var U=y(f);w=E(U,"Weather Entity"),U.forEach(h),N=M(s),A=m(s,"SELECT",{name:!0,id:!0});var I=y(A);L=m(I,"OPTION",{});var D=y(L);ie=E(D,"None"),D.forEach(h);for(let $=0;$<g.length;$+=1)g[$].l(I);I.forEach(h),re=m(s,"BR",{}),se=M(s),q=m(s,"LABEL",{for:!0});var Q=y(q);ue=E(Q,"Background Music Entity"),Q.forEach(h),ce=M(s),S=m(s,"SELECT",{name:!0,id:!0});var G=y(S);B=m(G,"OPTION",{});var V=y(B);fe=E(V,"None"),V.forEach(h);for(let $=0;$<b.length;$+=1)b[$].l(G);G.forEach(h),_e=m(s,"BR",{}),he=M(s),z=m(s,"LABEL",{for:!0});var X=y(z);pe=E(X,"Background Music File"),X.forEach(h),de=M(s),T=m(s,"INPUT",{type:!0,id:!0,name:!0}),me=m(s,"BR",{}),ge=M(s),F=m(s,"INPUT",{type:!0,id:!0,name:!0}),be=M(s),W=m(s,"LABEL",{for:!0});var _=y(W);ve=E(_,"(Home Assistant Add-On Only) Use local photos. Photodash will look in /share/photodash/"),ne=E(_,Y),ke=E(_," and display the files in that folder as your background slideshow."),_.forEach(h),Ee=m(s,"BR",{}),$e=M(s),Te(R.$$.fragment,s),s.forEach(h),this.h()},h(){var r,s,v,U,I;p(l,"for","name"),p(n,"type","text"),p(n,"id","name"),p(n,"name","name"),n.value=i=(r=a[0].configuration)==null?void 0:r.name,n.required=!0,p(f,"for","weather-entity"),L.__value="",L.value=L.__value,L.selected=te=((s=a[0].configuration)==null?void 0:s.weatherEntity)===null,p(A,"name","weatherEntity"),p(A,"id","weather-entity"),p(q,"for","music-entity"),B.__value="",B.value=B.__value,B.selected=le=((v=a[0].configuration)==null?void 0:v.backgroundMusicEntity)===null,p(S,"name","backgroundMusicEntity"),p(S,"id","music-entity"),p(z,"for","music-file"),p(T,"type","text"),p(T,"id","music-file"),p(T,"name","backgroundMusicFile"),T.value=K=(U=a[0].configuration)==null?void 0:U.backgroundMusicFile,p(F,"type","checkbox"),p(F,"id","local-photos"),p(F,"name","useLocalPhotos"),F.checked=oe=(I=a[0].configuration)==null?void 0:I.useLocalPhotos,p(W,"for","local-photos"),p(e,"method","POST")},m(r,s){C(r,e,s),u(e,l),u(l,t),u(e,o),u(e,n),u(e,c),u(e,f),u(f,w),u(e,N),u(e,A),u(A,L),u(L,ie);for(let v=0;v<g.length;v+=1)g[v].m(A,null);u(e,re),u(e,se),u(e,q),u(q,ue),u(e,ce),u(e,S),u(S,B),u(B,fe);for(let v=0;v<b.length;v+=1)b[v].m(S,null);u(e,_e),u(e,he),u(e,z),u(z,pe),u(e,de),u(e,T),u(e,me),u(e,ge),u(e,F),u(e,be),u(e,W),u(W,ve),u(W,ne),u(W,ke),u(e,Ee),u(e,$e),Ie(R,e,null),P=!0},p(r,s){var U,I,D,Q,G,V,X;if((!P||s&1&&i!==(i=(U=r[0].configuration)==null?void 0:U.name)&&n.value!==i)&&(n.value=i),(!P||s&1&&te!==(te=((I=r[0].configuration)==null?void 0:I.weatherEntity)===null))&&(L.selected=te),s&1){H=r[0].entities;let _;for(_=0;_<H.length;_+=1){const $=Be(r,H,_);g[_]?g[_].p($,s):(g[_]=Oe($),g[_].c(),g[_].m(A,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=H.length}if((!P||s&1&&le!==(le=((D=r[0].configuration)==null?void 0:D.backgroundMusicEntity)===null))&&(B.selected=le),s&1){j=r[0].entities;let _;for(_=0;_<j.length;_+=1){const $=Le(r,j,_);b[_]?b[_].p($,s):(b[_]=Ae($),b[_].c(),b[_].m(S,null))}for(;_<b.length;_+=1)b[_].d(1);b.length=j.length}(!P||s&1&&K!==(K=(Q=r[0].configuration)==null?void 0:Q.backgroundMusicFile)&&T.value!==K)&&(T.value=K),(!P||s&1&&oe!==(oe=(G=r[0].configuration)==null?void 0:G.useLocalPhotos))&&(F.checked=oe),(!P||s&1)&&Y!==(Y=(((V=r[0].configuration)==null?void 0:V.name.length)>0?(X=r[0].configuration)==null?void 0:X.name:"configurationName")+"")&&ae(ne,Y);const v={};s&8&&(v.$$scope={dirty:s,ctx:r}),R.$set(v)},i(r){P||(x(R.$$.fragment,r),P=!0)},o(r){ee(R.$$.fragment,r),P=!1},d(r){r&&h(e),Ne(g,r),Ne(b,r),Ce(R)}}}function Ve(a){let e;return{c(){e=k("Loading...")},l(l){e=E(l,"Loading...")},m(l,t){C(l,e,t)},p:Z,i:Z,o:Z,d(l){l&&h(e)}}}function Xe(a){let e=a[0].error+"",l;return{c(){l=k(e)},l(t){l=E(t,e)},m(t,o){C(t,l,o)},p(t,o){o&1&&e!==(e=t[0].error+"")&&ae(l,e)},i:Z,o:Z,d(t){t&&h(l)}}}function Pe(a){let e,l=a[5]+"",t,o,n;return{c(){e=d("option"),t=k(l),this.h()},l(i){e=m(i,"OPTION",{});var c=y(e);t=E(c,l),c.forEach(h),this.h()},h(){var i;e.__value=o=a[5],e.value=e.__value,e.selected=n=((i=a[0].configuration)==null?void 0:i.weatherEntity)===a[5]},m(i,c){C(i,e,c),u(e,t)},p(i,c){var f;c&1&&l!==(l=i[5]+"")&&ae(t,l),c&1&&o!==(o=i[5])&&(e.__value=o,e.value=e.__value),c&1&&n!==(n=((f=i[0].configuration)==null?void 0:f.weatherEntity)===i[5])&&(e.selected=n)},d(i){i&&h(e)}}}function Oe(a){let e=a[5].startsWith("weather"),l,t=e&&Pe(a);return{c(){t&&t.c(),l=J()},l(o){t&&t.l(o),l=J()},m(o,n){t&&t.m(o,n),C(o,l,n)},p(o,n){n&1&&(e=o[5].startsWith("weather")),e?t?t.p(o,n):(t=Pe(o),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(o){t&&t.d(o),o&&h(l)}}}function Me(a){let e,l=a[5]+"",t,o,n;return{c(){e=d("option"),t=k(l),this.h()},l(i){e=m(i,"OPTION",{});var c=y(e);t=E(c,l),c.forEach(h),this.h()},h(){var i;e.__value=o=a[5],e.value=e.__value,e.selected=n=((i=a[0].configuration)==null?void 0:i.backgroundMusicEntity)===a[5]},m(i,c){C(i,e,c),u(e,t)},p(i,c){var f;c&1&&l!==(l=i[5]+"")&&ae(t,l),c&1&&o!==(o=i[5])&&(e.__value=o,e.value=e.__value),c&1&&n!==(n=((f=i[0].configuration)==null?void 0:f.backgroundMusicEntity)===i[5])&&(e.selected=n)},d(i){i&&h(e)}}}function Ae(a){let e=a[5].startsWith("input_boolean"),l,t=e&&Me(a);return{c(){t&&t.c(),l=J()},l(o){t&&t.l(o),l=J()},m(o,n){t&&t.m(o,n),C(o,l,n)},p(o,n){n&1&&(e=o[5].startsWith("input_boolean")),e?t?t.p(o,n):(t=Me(o),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(o){t&&t.d(o),o&&h(l)}}}function Ze(a){let e;return{c(){e=k("Save")},l(l){e=E(l,"Save")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function xe(a){let e,l,t,o;const n=[Xe,Ve,Qe],i=[];function c(f,w){var N;return"error"in f[0]?0:((N=f[0].entities)==null?void 0:N.length)===0?1:2}return e=c(a),l=i[e]=n[e](a),{c(){l.c(),t=J()},l(f){l.l(f),t=J()},m(f,w){i[e].m(f,w),C(f,t,w),o=!0},p(f,w){let N=e;e=c(f),e===N?i[e].p(f,w):(Ge(),ee(i[N],1,1,()=>{i[N]=null}),Je(),l=i[e],l?l.p(f,w):(l=i[e]=n[e](f),l.c()),x(l,1),l.m(t.parentNode,t))},i(f){o||(x(l),o=!0)},o(f){ee(l),o=!1},d(f){i[e].d(f),f&&h(t)}}}function et(a){let e;const l=a[2].default,t=qe(l,a,a[3],null),o=t||xe(a);return{c(){o&&o.c()},l(n){o&&o.l(n)},m(n,i){o&&o.m(n,i),e=!0},p(n,i){t?t.p&&(!e||i&8)&&ze(t,l,n,n[3],e?je(l,n[3],i,null):He(n[3]),null):o&&o.p&&(!e||i&1)&&o.p(n,e?i:-1)},i(n){e||(x(o,n),e=!0)},o(n){ee(o,n),e=!1},d(n){o&&o.d(n)}}}function tt(a){let e,l;return e=new Ye({props:{$$slots:{default:[et]},$$scope:{ctx:a}}}),{c(){Se(e.$$.fragment)},l(t){Te(e.$$.fragment,t)},m(t,o){Ie(e,t,o),l=!0},p(t,[o]){const n={};o&9&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i(t){l||(x(e.$$.fragment,t),l=!0)},o(t){ee(e.$$.fragment,t),l=!1},d(t){Ce(e,t)}}}function lt(a,e,l){let t;Ue(a,Ke,c=>l(1,t=c));let{$$slots:o={},$$scope:n}=e,{data:i}=e;return a.$$set=c=>{"data"in c&&l(0,i=c.data),"$$scope"in c&&l(3,n=c.$$scope)},a.$$.update=()=>{a.$$.dirty&2&&t!==""&&fetch("https://photoslibrary.googleapis.com/v1/albums",{headers:{Authorization:`Bearer ${t}`}}).then(c=>c.json()).then(c=>console.log(c))},[i,t,o,n]}class rt extends Fe{constructor(e){super(),We(this,e,lt,tt,Re,{data:0})}}export{rt as default};
