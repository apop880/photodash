import{a7 as r,a8 as s}from"./index-fb8a4cb6.js";import{p as a}from"./stores-3fa92a4b.js";const c=r("",function(n){let o;{const e=s(a).data.baseSettings;return e.googleClientId&&fetch("https://www.googleapis.com/oauth2/v4/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e.googleClientId,client_secret:e.googleClientSecret,refresh_token:e.googleRefreshToken,grant_type:"refresh_token"})}).then(t=>t.json()).then(t=>{n(t.access_token),o=setInterval(()=>{fetch("https://www.googleapis.com/oauth2/v4/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e.googleClientId,client_secret:e.googleClientSecret,refresh_token:e.googleRefreshToken,grant_type:"refresh_token"})})},1e3*60*2)}),function(){clearInterval(o)}}});export{c as t};
